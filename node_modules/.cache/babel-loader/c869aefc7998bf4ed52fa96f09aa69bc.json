{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/yellowins/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/yellowins/src/controller/auth.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/src/controller/auth.js","mtime":1625371680000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/.babelrc","mtime":1624458660428},{"path":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/yellowins/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9BcHBsaWNhdGlvbnMvWEFNUFAveGFtcHBmaWxlcy9odGRvY3MveWVsbG93aW5zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gaW1wb3J0IHN0b3JlcyBmcm9tICIuLi9zdG9yZXMvaW5kZXgiCgppbXBvcnQgdm91Y2hlciBmcm9tICIuL3ZvdWNoZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGZvcm0sIHN0b3Jlcywgcm91dGVyLCAkYnZUb2FzdCwgbW9kYWwpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGF4aW9zLnB1dCgnL2F1dGgvbG9naW4nLCBmb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIHN0b3Jlcy5jb21taXQoJ2F1dGhlbnRpY2F0aW9uJywgcmVzLmRhdGEuYmVhcmVyKTsKICAgICAgICAgICAgICAgIHN0b3Jlcy5jb21taXQoJ3VzZXInLCByZXMuZGF0YS51c2VyKTsKICAgICAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBzdG9yZXMuc3RhdGUuYXV0aGVudGljYXRpb247CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyb3V0ZXIucGF0aCk7CgogICAgICAgICAgICAgICAgX3RoaXMucHJlcGFyZShzdG9yZXMsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAkYnZUb2FzdC50b2FzdChyZXMuZGF0YS5tZXNzYWdlLCB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiTG9naW4gQmVyaGFzaWwiLAogICAgICAgICAgICAgICAgICB2YXJpYW50OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHNvbGlkOiB0cnVlLAogICAgICAgICAgICAgICAgICBhdXRvSGlkZURlbGF5OiA1MDAwLAogICAgICAgICAgICAgICAgICBhcHBlbmRUb2FzdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBtb2RhbC5oaWRlKCdtb2RhbC1sb2dpbicpOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHByZXBhcmU6IGZ1bmN0aW9uIHByZXBhcmUoc3RvcmUsIGhhc1ZvdWNoZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgdXNlciwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdG9yZS5zdGF0ZS51c2VyKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgncHJlbWl1bS8nICsgdXNlci5pZCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghcmVzLmRhdGEuaXNfcHJlbWl1bSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdXNlci5jYXRlZ29yeSA9IHJlcy5kYXRhLmNhdGVnb3J5OwogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgndXNlcicsIHVzZXIpOwogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnaXRlbXMnLCB7fSk7CgogICAgICAgICAgICAgIGlmIChoYXNWb3VjaGVyKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiB2b3VjaGVyLmxpc3Qoc3RvcmUpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICB1c2VyLmNhdGVnb3J5ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgndXNlcicsIHVzZXIpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGZvcm0pIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTogZm9ybS5uYW1lIHx8IGZvcm0ucGhvbmUsCiAgICAgICAgICAgICAgICBwaG9uZTogZm9ybS5waG9uZS5zdWJzdHIoMCwgMSkgPT09ICcwJyA/IGZvcm0ucGhvbmUuc3Vic3RyKDEpIDogZm9ybS5waG9uZSwKICAgICAgICAgICAgICAgIGVtYWlsOiBmb3JtLmVtYWlsLAogICAgICAgICAgICAgICAgYWRkcmVzczogZm9ybS5hZGRyZXNzLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZvcm0ucGFzc3dvcmQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5wdXQoJy9hdXRoL3JlZ2lzdGVyJywgZGF0YSkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICB2ZXJpZmljYXRpb246IGZ1bmN0aW9uIHZlcmlmaWNhdGlvbihmb3JtLCBzdG9yZXMsIHJvdXRlciwgJGJ2VG9hc3QpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5wdXQoJy9hdXRoL3ZlcmlmaWNhdGlvbicsIGZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgc3RvcmVzLmNvbW1pdCgnYXV0aGVudGljYXRpb24nLCByZXMuZGF0YS5iZWFyZXIpOwogICAgICAgICAgICAgICAgc3RvcmVzLmNvbW1pdCgndXNlcicsIHJlcy5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHN0b3Jlcy5zdGF0ZS5hdXRoZW50aWNhdGlvbjsgLy8gcm91dGVyID0gZmFsc2UKCiAgICAgICAgICAgICAgICAkYnZUb2FzdC50b2FzdCgiU2VsYW1hdCwgYWt1biBhbmRhIHRlbGFoIHRlcmRhZnRhciBkaSB5ZWxsb3dpbnMiLCB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiVmVyaWZpa2FzaSBiZXJoYXNpbCIsCiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgc29saWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIGF1dG9IaWRlRGVsYXk6IDgwMDAsCiAgICAgICAgICAgICAgICAgIGFwcGVuZFRvYXN0OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZvdWNoZXIubGlzdChzdG9yZXMpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICRidlRvYXN0LnRvYXN0KCJNYWFmLCBsYWdpIGFkYSBnYW5nZ3VhbiIsIHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJFcnJvciA6KCIsCiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHNvbGlkOiB0cnVlLAogICAgICAgICAgICAgICAgICBhdXRvSGlkZURlbGF5OiAxODAwMCwKICAgICAgICAgICAgICAgICAgYXBwZW5kVG9hc3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RvcmVzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgYXhpb3MuZ2V0KCdhdXRoL2xvZ291dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgc3RvcmVzLmNvbW1pdCgnYXV0aGVudGljYXRpb24nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBzdG9yZXMuY29tbWl0KCd1c2VyJywge30pOwogICAgICAgICAgICAgICAgc3RvcmVzLmNvbW1pdCgnaXRlbXMnLCB7fSk7CiAgICAgICAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgdm91Y2hlci5saXN0KHN0b3Jlcyk7IC8vIHJvdXRlci5wdXNoKCcvJykKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/yellowins/src/controller/auth.js"],"names":["axios","voucher","login","form","stores","router","$bvToast","modal","put","then","res","commit","data","bearer","user","defaults","headers","common","state","authentication","console","log","path","prepare","toast","message","title","variant","solid","autoHideDelay","appendToast","hide","store","hasVoucher","Object","assign","get","id","is_premium","category","list","undefined","register","name","phone","substr","email","address","password","verification","catch","logout"],"mappings":"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","sourcesContent":["import axios from 'axios'\n// import stores from \"../stores/index\"\nimport voucher from \"./voucher\"\nexport default {\n    async login(form, stores, router, $bvToast, modal) {\n        return axios.put('/auth/login', form).then((res) => {\n            stores.commit('authentication', res.data.bearer)\n            stores.commit('user', res.data.user)\n            axios.defaults.headers.common['Authorization'] =\n                'Bearer ' + stores.state.authentication\n            console.log(router.path);\n            this.prepare(stores, false)\n            $bvToast.toast(res.data.message, {\n                title: `Login Berhasil`,\n                variant: \"success\",\n                solid: true,\n                autoHideDelay: 5000,\n                appendToast: true,\n            });\n            modal.hide('modal-login')\n\n        })\n    },\n    async prepare(store, hasVoucher) {\n        let user = Object.assign({}, store.state.user)\n        const res = await axios.get('premium/' + user.id)\n        if (res.data.is_premium) {\n            user.category = res.data.category\n            store.commit('user', user)\n            store.commit('items', {})\n            if (!hasVoucher) await voucher.list(store)\n        } else {\n            user.category = undefined\n            store.commit('user', user)\n        }\n    },\n    async register(form) {\n        const data = {\n            name: form.name || form.phone,\n            phone: form.phone.substr(0, 1) === '0' ? form.phone.substr(1) : form.phone,\n            email: form.email,\n            address: form.address,\n            password: form.password,\n        }\n        return axios.put('/auth/register', data)\n    },\n    async verification(form, stores, router, $bvToast) {\n        return axios\n            .put('/auth/verification', form)\n            .then((res) => {\n                stores.commit('authentication', res.data.bearer)\n                stores.commit('user', res.data.user)\n                axios.defaults.headers.common['Authorization'] =\n                    'Bearer ' + stores.state.authentication\n                    // router = false\n                $bvToast.toast(\"Selamat, akun anda telah terdaftar di yellowins\", {\n                    title: `Verifikasi berhasil`,\n                    variant: 'success',\n                    solid: true,\n                    autoHideDelay: 8000,\n                    appendToast: true,\n                })\n                voucher.list(stores)\n            })\n            .catch(() => {\n                $bvToast.toast(\"Maaf, lagi ada gangguan\", {\n                    title: `Error :(`,\n                    variant: 'error',\n                    solid: true,\n                    autoHideDelay: 18000,\n                    appendToast: true,\n                })\n            })\n    },\n    async logout(stores) {\n        return axios.get('auth/logout').then(() => {\n            stores.commit('authentication', false)\n            stores.commit('user', {})\n            stores.commit('items', {})\n            axios.defaults.headers.common['Authorization'] = undefined\n            voucher.list(stores)\n                // router.push('/')\n        })\n    },\n}"]}]}